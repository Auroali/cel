\hypertarget{binary__stream_8h_source}{}\doxysection{binary\+\_\+stream.\+h}
\label{binary__stream_8h_source}\index{src/cel/io/binary\_stream.h@{src/cel/io/binary\_stream.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#include <fstream>}}
\DoxyCodeLine{3 \textcolor{preprocessor}{\#include <string>}}
\DoxyCodeLine{4 \textcolor{preprocessor}{\#include <unordered\_map>}}
\DoxyCodeLine{5 \textcolor{preprocessor}{\#include <cstddef>}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#include <memory>}}
\DoxyCodeLine{7 \textcolor{preprocessor}{\#include <filesystem>}}
\DoxyCodeLine{8 }
\DoxyCodeLine{12 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespacecel_1_1io}{cel::io}} \{}
\DoxyCodeLine{17     \textcolor{keyword}{class }\mbox{\hyperlink{classcel_1_1io_1_1binary__ifstream}{binary\_ifstream}} \{}
\DoxyCodeLine{18     \textcolor{keyword}{private}:}
\DoxyCodeLine{19         std::ifstream stream;}
\DoxyCodeLine{20     \textcolor{keyword}{public}:}
\DoxyCodeLine{21         \mbox{\hyperlink{classcel_1_1io_1_1binary__ifstream}{binary\_ifstream}}(\textcolor{keyword}{const} std::filesystem::path\& path);}
\DoxyCodeLine{22         \mbox{\hyperlink{classcel_1_1io_1_1binary__ifstream}{\string~binary\_ifstream}}();}
\DoxyCodeLine{23         \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{24         T read() \{}
\DoxyCodeLine{25             \textcolor{keywordtype}{char}* bytes = read(\textcolor{keyword}{sizeof}(T));}
\DoxyCodeLine{26             T val = *(T*)bytes;}
\DoxyCodeLine{27             \textcolor{keyword}{delete}[] bytes;}
\DoxyCodeLine{28             \textcolor{keywordflow}{return} val;}
\DoxyCodeLine{29         \}}
\DoxyCodeLine{30         \textcolor{keywordtype}{char}* read(\textcolor{keywordtype}{size\_t} size) \{}
\DoxyCodeLine{31             \textcolor{keywordtype}{char}* bytes = \textcolor{keyword}{new} \textcolor{keywordtype}{char}[size];}
\DoxyCodeLine{32             stream.read(bytes, size);}
\DoxyCodeLine{33             \textcolor{keywordflow}{return} bytes;}
\DoxyCodeLine{34         \}}
\DoxyCodeLine{35         \textcolor{keywordtype}{bool} eof();}
\DoxyCodeLine{36         std::string read\_str(\textcolor{keywordtype}{size\_t} size);}
\DoxyCodeLine{37     \};}
\DoxyCodeLine{42     \textcolor{keyword}{class }\mbox{\hyperlink{classcel_1_1io_1_1binary__ofstream}{binary\_ofstream}} \{}
\DoxyCodeLine{43     \textcolor{keyword}{private}:}
\DoxyCodeLine{44         std::ofstream stream;}
\DoxyCodeLine{45     \textcolor{keyword}{public}:}
\DoxyCodeLine{46         \textcolor{keywordtype}{void} write\_str(\textcolor{keyword}{const} std::string\& str);}
\DoxyCodeLine{47         \mbox{\hyperlink{classcel_1_1io_1_1binary__ofstream}{binary\_ofstream}}(\textcolor{keyword}{const} std::filesystem::path\& path);}
\DoxyCodeLine{48         \mbox{\hyperlink{classcel_1_1io_1_1binary__ofstream}{\string~binary\_ofstream}}();}
\DoxyCodeLine{49         \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{50         \textcolor{keywordtype}{void} write(T\& data) \{}
\DoxyCodeLine{51             \textcolor{keywordtype}{char}* bytes = \textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{char}*\textcolor{keyword}{>}(\&data);}
\DoxyCodeLine{52             stream.write(bytes, \textcolor{keyword}{sizeof}(data));}
\DoxyCodeLine{53         \}}
\DoxyCodeLine{54         \textcolor{keywordtype}{void} write(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* data, \textcolor{keywordtype}{size\_t} size) \{}
\DoxyCodeLine{55             stream.write(data, size);}
\DoxyCodeLine{56         \}}
\DoxyCodeLine{57         \textcolor{keywordtype}{bool} eof();}
\DoxyCodeLine{58         \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{59         \mbox{\hyperlink{classcel_1_1io_1_1binary__ofstream}{binary\_ofstream}}* operator<<(T\&\& other) \{}
\DoxyCodeLine{60             this-\/>write(other);}
\DoxyCodeLine{61             \textcolor{keywordflow}{return} \textcolor{keyword}{this};}
\DoxyCodeLine{62         \}}
\DoxyCodeLine{63         \textcolor{keywordtype}{void} seekp(std::streampos pos);}
\DoxyCodeLine{64     \};}
\DoxyCodeLine{65 \}}

\end{DoxyCode}
