\hypertarget{binary__stream_8h_source}{}\doxysection{binary\+\_\+stream.\+h}
\label{binary__stream_8h_source}\index{src/cel/io/binary\_stream.h@{src/cel/io/binary\_stream.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#include <fstream>}}
\DoxyCodeLine{3 \textcolor{preprocessor}{\#include <string>}}
\DoxyCodeLine{4 \textcolor{preprocessor}{\#include <unordered\_map>}}
\DoxyCodeLine{5 \textcolor{preprocessor}{\#include <cstddef>}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#include <memory>}}
\DoxyCodeLine{7 \textcolor{keyword}{namespace }cel::io \{}
\DoxyCodeLine{12     \textcolor{keyword}{class }\mbox{\hyperlink{classcel_1_1io_1_1binary__ifstream}{binary\_ifstream}} \{}
\DoxyCodeLine{13     \textcolor{keyword}{private}:}
\DoxyCodeLine{14         std::ifstream stream;}
\DoxyCodeLine{15     \textcolor{keyword}{public}:}
\DoxyCodeLine{16         \mbox{\hyperlink{classcel_1_1io_1_1binary__ifstream}{binary\_ifstream}}(std::string path);}
\DoxyCodeLine{17         \mbox{\hyperlink{classcel_1_1io_1_1binary__ifstream}{\string~binary\_ifstream}}();}
\DoxyCodeLine{18         \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{19         T read() \{}
\DoxyCodeLine{20             \textcolor{keywordtype}{char}* bytes = \textcolor{keyword}{new} \textcolor{keywordtype}{char}[\textcolor{keyword}{sizeof}(T)];}
\DoxyCodeLine{21             stream.read(bytes, \textcolor{keyword}{sizeof}(T));}
\DoxyCodeLine{22             T val = *(T*)bytes;}
\DoxyCodeLine{23             \textcolor{keyword}{delete}[] bytes;}
\DoxyCodeLine{24             \textcolor{keywordflow}{return} val;}
\DoxyCodeLine{25         \}}
\DoxyCodeLine{26         \textcolor{keywordtype}{char}* read(\textcolor{keywordtype}{size\_t} size) \{}
\DoxyCodeLine{27             \textcolor{keywordtype}{char}* bytes = \textcolor{keyword}{new} \textcolor{keywordtype}{char}[size];}
\DoxyCodeLine{28             stream.read(bytes, size);}
\DoxyCodeLine{29             \textcolor{keywordflow}{return} bytes;}
\DoxyCodeLine{30         \}}
\DoxyCodeLine{31         \textcolor{keywordtype}{bool} eof();}
\DoxyCodeLine{32         std::string read\_str(\textcolor{keywordtype}{size\_t} size);}
\DoxyCodeLine{33     \};}
\DoxyCodeLine{38     \textcolor{keyword}{class }\mbox{\hyperlink{classcel_1_1io_1_1binary__ofstream}{binary\_ofstream}} \{}
\DoxyCodeLine{39     \textcolor{keyword}{private}:}
\DoxyCodeLine{40         std::ofstream stream;}
\DoxyCodeLine{41     \textcolor{keyword}{public}:}
\DoxyCodeLine{42         \textcolor{keywordtype}{void} write\_str(\textcolor{keyword}{const} std::string\& str);}
\DoxyCodeLine{43         \mbox{\hyperlink{classcel_1_1io_1_1binary__ofstream}{binary\_ofstream}}(std::string path);}
\DoxyCodeLine{44         \mbox{\hyperlink{classcel_1_1io_1_1binary__ofstream}{\string~binary\_ofstream}}();}
\DoxyCodeLine{45         \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{46         \textcolor{keywordtype}{void} write(T\& data) \{}
\DoxyCodeLine{47             \textcolor{keywordtype}{char}* bytes = \textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{char}*\textcolor{keyword}{>}(\&data);}
\DoxyCodeLine{48             stream.write(bytes, \textcolor{keyword}{sizeof}(data));}
\DoxyCodeLine{49         \}}
\DoxyCodeLine{50         \textcolor{keywordtype}{void} write(\textcolor{keywordtype}{char}* data, \textcolor{keywordtype}{size\_t} size) \{}
\DoxyCodeLine{51             stream.write(data, size);}
\DoxyCodeLine{52         \}}
\DoxyCodeLine{53         \textcolor{keywordtype}{bool} eof();}
\DoxyCodeLine{54         \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{55         \mbox{\hyperlink{classcel_1_1io_1_1binary__ofstream}{binary\_ofstream}}* operator<<(T\&\& other) \{}
\DoxyCodeLine{56             this-\/>write(other);}
\DoxyCodeLine{57             \textcolor{keywordflow}{return} \textcolor{keyword}{this};}
\DoxyCodeLine{58         \}}
\DoxyCodeLine{59         \textcolor{keywordtype}{void} seekp(std::streampos pos);}
\DoxyCodeLine{60     \};}
\DoxyCodeLine{61 \}}

\end{DoxyCode}
