\hypertarget{texture_8h_source}{}\doxysection{texture.\+h}
\label{texture_8h_source}\index{src/cel/render/texture.h@{src/cel/render/texture.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#include <string>}}
\DoxyCodeLine{3 \textcolor{preprocessor}{\#include <memory>}}
\DoxyCodeLine{4 \textcolor{preprocessor}{\#include <map>}}
\DoxyCodeLine{5 \textcolor{preprocessor}{\#include "{}cel/io/stb\_image.h"{}}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#include <filesystem>}}
\DoxyCodeLine{7 \textcolor{preprocessor}{\#include <optional>}}
\DoxyCodeLine{8 }
\DoxyCodeLine{9 \textcolor{preprocessor}{\#include <GLFW/glfw3.h>}}
\DoxyCodeLine{10 }
\DoxyCodeLine{11 \textcolor{keyword}{namespace }cel::render \{}
\DoxyCodeLine{12     \textcolor{keyword}{class }\mbox{\hyperlink{classcel_1_1render_1_1texture}{texture}} \{}
\DoxyCodeLine{13     \textcolor{keyword}{private}:}
\DoxyCodeLine{14         \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} tex;}
\DoxyCodeLine{15         \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} w,h;}
\DoxyCodeLine{16     \textcolor{keyword}{public}:}
\DoxyCodeLine{17         \mbox{\hyperlink{classcel_1_1render_1_1texture}{texture}}() \{\}}
\DoxyCodeLine{18 }
\DoxyCodeLine{19         \mbox{\hyperlink{classcel_1_1render_1_1texture}{texture}}(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}* data, \textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y, \textcolor{keywordtype}{int} channels) \{}
\DoxyCodeLine{20             \textcolor{keywordflow}{if}(data) \{}
\DoxyCodeLine{21                 glGenTextures(1, \&tex);}
\DoxyCodeLine{22                 glBindTexture(GL\_TEXTURE\_2D, tex);}
\DoxyCodeLine{23 }
\DoxyCodeLine{24                 glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_WRAP\_S, GL\_REPEAT);}
\DoxyCodeLine{25                 glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_WRAP\_T, GL\_REPEAT);}
\DoxyCodeLine{26                 glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_MIN\_FILTER, GL\_LINEAR\_MIPMAP\_LINEAR);}
\DoxyCodeLine{27                 glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_MAG\_FILTER, GL\_LINEAR);}
\DoxyCodeLine{28 }
\DoxyCodeLine{29                 }
\DoxyCodeLine{30                 glTexImage2D(GL\_TEXTURE\_2D, 0, GL\_RGB, x, y, 0, GL\_RGB, GL\_UNSIGNED\_BYTE, data);}
\DoxyCodeLine{31                 glGenerateMipmap(GL\_TEXTURE\_2D);}
\DoxyCodeLine{32 }
\DoxyCodeLine{33                 w = x;}
\DoxyCodeLine{34                 h = y;}
\DoxyCodeLine{35 }
\DoxyCodeLine{36                 glBindTexture(GL\_TEXTURE\_2D, 0);}
\DoxyCodeLine{37             \}}
\DoxyCodeLine{38         \}}
\DoxyCodeLine{39         \mbox{\hyperlink{classcel_1_1render_1_1texture}{texture}}(\textcolor{keywordtype}{int} width, \textcolor{keywordtype}{int} height) \{}
\DoxyCodeLine{40             glGenTextures(1, \&tex);}
\DoxyCodeLine{41             glBindTexture(GL\_TEXTURE\_2D, tex);}
\DoxyCodeLine{42             }
\DoxyCodeLine{43             glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_MIN\_FILTER, GL\_LINEAR);}
\DoxyCodeLine{44             glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_MAG\_FILTER, GL\_LINEAR);}
\DoxyCodeLine{45 }
\DoxyCodeLine{46             glTexImage2D(GL\_TEXTURE\_2D, 0, GL\_RGB, width, height, 0, GL\_RGB, GL\_UNSIGNED\_BYTE, NULL);}
\DoxyCodeLine{47             }
\DoxyCodeLine{48             w = width;}
\DoxyCodeLine{49             h = height;}
\DoxyCodeLine{50         \}}
\DoxyCodeLine{51         \mbox{\hyperlink{classcel_1_1render_1_1texture}{texture}}(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \textcolor{keywordtype}{id}, \textcolor{keywordtype}{int} width, \textcolor{keywordtype}{int} height) \{}
\DoxyCodeLine{52             tex = id;}
\DoxyCodeLine{53             w = width;}
\DoxyCodeLine{54             h = height;}
\DoxyCodeLine{55         \}}
\DoxyCodeLine{56         \textcolor{keywordtype}{void} resize(\textcolor{keywordtype}{int} width, \textcolor{keywordtype}{int} height) \{}
\DoxyCodeLine{57             h = height;}
\DoxyCodeLine{58             w = width;}
\DoxyCodeLine{59             glBindTexture(GL\_TEXTURE\_2D, tex);}
\DoxyCodeLine{60             glTexImage2D(GL\_TEXTURE\_2D, 0, GL\_RGB, width, height, 0, GL\_RGB, GL\_UNSIGNED\_BYTE, NULL);}
\DoxyCodeLine{61             glBindTexture(GL\_TEXTURE\_2D, 0);}
\DoxyCodeLine{62         \}}
\DoxyCodeLine{63         \textcolor{keywordtype}{bool} is\_valid() \{}
\DoxyCodeLine{64             \textcolor{keywordflow}{return} glIsTexture(tex);}
\DoxyCodeLine{65         \}}
\DoxyCodeLine{66         \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} handle() \{}
\DoxyCodeLine{67             \textcolor{keywordflow}{return} tex;}
\DoxyCodeLine{68         \}}
\DoxyCodeLine{69         \textcolor{keywordtype}{void} free() \{}
\DoxyCodeLine{70             glDeleteTextures(1, \&tex);}
\DoxyCodeLine{71         \}}
\DoxyCodeLine{72         \textcolor{keyword}{static} std::optional<texture> load(\textcolor{keyword}{const} std::filesystem::path\& name) \{}
\DoxyCodeLine{73             \textcolor{keywordflow}{if}(std::filesystem::exists(name) \&\& std::filesystem::is\_regular\_file(name)) \{}
\DoxyCodeLine{74                 \textcolor{keywordtype}{int} x,y,channels;}
\DoxyCodeLine{75                 \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}* data = stbi\_load(name.c\_str(), \&x, \&y, \&channels, 0);}
\DoxyCodeLine{76                 \mbox{\hyperlink{classcel_1_1render_1_1texture}{texture}} tex = \mbox{\hyperlink{classcel_1_1render_1_1texture}{texture}}(data, x, y, channels);}
\DoxyCodeLine{77                 stbi\_image\_free(data);}
\DoxyCodeLine{78                 \textcolor{keywordflow}{if}(tex.is\_valid()) \{}
\DoxyCodeLine{79                     \textcolor{keywordflow}{return} tex;}
\DoxyCodeLine{80                 \}}
\DoxyCodeLine{81             \}}
\DoxyCodeLine{82             \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{83         \}}
\DoxyCodeLine{84         \textcolor{keywordtype}{int} width() \{}
\DoxyCodeLine{85             \textcolor{keywordflow}{return} w;}
\DoxyCodeLine{86         \}}
\DoxyCodeLine{87         \textcolor{keywordtype}{int} height() \{}
\DoxyCodeLine{88             \textcolor{keywordflow}{return} h;}
\DoxyCodeLine{89         \}}
\DoxyCodeLine{90         \textcolor{keyword}{operator} int() \{}
\DoxyCodeLine{91             \textcolor{keywordflow}{return} this-\/>tex;}
\DoxyCodeLine{92         \}}
\DoxyCodeLine{93     \};}
\DoxyCodeLine{94 \}}

\end{DoxyCode}
